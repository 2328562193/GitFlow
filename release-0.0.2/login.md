修复一些bug，并测试通过了